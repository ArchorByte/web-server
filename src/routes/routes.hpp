#ifndef APP_ROUTES_HPP
#define APP_ROUTES_HPP

#include <functional>
#include <string>
#include <unordered_map>
#include <vector>

///////////////////////////////////////////////////
//////////////////// Structure ////////////////////
///////////////////////////////////////////////////

struct BackendData
{
    std::string key;
    std::string value;
};

////////////////////////////////////////////////
//////////////////// Routes ////////////////////
////////////////////////////////////////////////

using run = std::function<std::string()>;
inline std::unordered_map<std::string, run> routes; // inline to declare once!

///////////////////////////////////////////////////
//////////////////// Namespace ////////////////////
///////////////////////////////////////////////////

namespace Routes
{
    //////////////////////
    ///// routes.cpp /////
    //////////////////////

    void register_routes();

    std::string make_server_response
    (
        const std::string &path
    );

    ////////////////////////////
    ///// tags.handler.cpp /////
    ////////////////////////////

    std::string replace_custom_tags
    (
        const std::vector<BackendData> &backend_data,
        std::vector<std::string> &html_page
    );
}

#endif
